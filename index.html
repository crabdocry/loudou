
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>严重性侵犯行为漏斗图</title>
    <!-- 引入 ECharts CDN -->
    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background: transparent;
        }
        #main {
            width: 100%;
            height: 100vh; /* 占满整个视口高度 */
        }
    </style>
</head>
<body>
    <div id="main"></div>
    <script type="text/javascript">
        var chartDom = document.getElementById("main");
        var myChart = echarts.init(chartDom, null, {renderer: "canvas", useDirtyRect: false});

        var option = {
            backgroundColor: "transparent",
            title: {
                text: "严重性侵犯行为",
                left: "center",
                top: 20,
                textStyle: { color: "#fff", fontSize: 15 }
            },
            tooltip: {
                trigger: "item",
                formatter: function(params){ return params.name + " : " + params.value + "%"; },
                textStyle: { color: "#000" }
            },
            legend: {
                bottom: 10,
                left: "center",
                textStyle: { color: "#fff" },
                data: ["发生", "报案", "立案", "定罪"]
            },
            series: [{
                name: "严重性侵犯行为",
                type: "funnel",
                left: "10%",
                top: 60,
                bottom: 60,
                width: "80%",
                min: 0,
                max: 100,
                minSize: "0%",
                maxSize: "100%",
                sort: "descending",
                gap: 2,
                label: {
                    show: true,
                    position: "inside",
                    color: "#fff",
                    fontSize: 14,
                    formatter: "{b}"
                },
                labelLine: { show: false },
                itemStyle: { borderWidth: 0 },
                emphasis: { label: { fontSize: 16 } },
                data: [
                    { value: 100, name: "发生", itemStyle: { color: "#440909" } },
                    { value: 7.3, name: "报案", itemStyle: { color: "#a21014" } },
                    { value: 2.7, name: "立案", itemStyle: { color: "#e63633" } },
                    { value: 0.4, name: "定罪", itemStyle: { color: "#ff7f7b" } }
                ],
                animation: true,
                animationDuration: 1500
            }]
        };

        myChart.setOption(option);

        // 窗口大小改变时自适应
        window.addEventListener("resize", function(){ myChart.resize(); });
    </script>
</body>
</html>

